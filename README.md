# Internal Ledger Pro

<div align="center">

![Internal Ledger Pro](https://img.shields.io/badge/Internal%20Ledger-Pro-blue)
![React](https://img.shields.io/badge/React-19.2.0-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-5.8-blue)
![Node.js](https://img.shields.io/badge/Node.js-Express-green)
![License](https://img.shields.io/badge/License-Private-red)

**ä¸€ä¸ªé«˜å¯†åº¦çš„å•é¡µé¢å†…éƒ¨è´¦æœ¬ç³»ç»Ÿï¼Œä¸“ä¸ºæ¡Œé¢ä½¿ç”¨ä¼˜åŒ–**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [API æ–‡æ¡£](#-api-æ–‡æ¡£) â€¢ [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#-é¡¹ç›®ç®€ä»‹)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [æŠ€æœ¯æ ˆ](#-æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ç¯å¢ƒé…ç½®](#-ç¯å¢ƒé…ç½®)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

ç›®å‰ï¼Œè®¸å¤šå°å‹å›¢é˜Ÿä½¿ç”¨äº†èšåˆæ”¯ä»˜ä»¥åŠè™šæ‹Ÿè´§å¸ä½œä¸ºè‡ªå·±çš„æ”¶æ¬¾æ–¹å¼ï¼Œä½†æ˜¯å°å‹å›¢é˜Ÿçš„å†…éƒ¨åˆ†è´¦å­˜åœ¨ç®¡ç†æ··ä¹±çš„é—®é¢˜ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬å¼€å‘äº†**Internal Ledger Pro** ã€‚ **Internal Ledger Pro** æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„å†…éƒ¨è´¦æœ¬ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§æ”¶å…¥æ¥æºçš„ç»Ÿä¸€ç®¡ç†ã€è‡ªåŠ¨åˆ†è´¦ã€é’±åŒ…ç›‘æ§å’Œæ”¯ä»˜æ¥å£é›†æˆã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›ç›´è§‚çš„ Web ç•Œé¢å’Œå®Œæ•´çš„ RESTful APIï¼Œä½¿ç”¨äº† Safeperim å’Œ troné“¾ é’±åŒ…ä½œä¸ºç¤ºä¾‹ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- âœ… **å¤šæºäº¤æ˜“ç®¡ç†** - æ”¯æŒæ‰‹åŠ¨å½•å…¥ã€é’±åŒ…ç›‘æ§ã€æ”¯ä»˜æ¥å£åŒæ­¥
- âœ… **æ™ºèƒ½åˆ†è´¦ç³»ç»Ÿ** - è‡ªåŠ¨æŒ‰æ¯”ä¾‹åˆ†é…æ”¶å…¥ï¼Œæ”¯æŒå¤šç”¨æˆ·é…ç½®
- âœ… **å®æ—¶é’±åŒ…ç›‘æ§** - è‡ªåŠ¨åŒæ­¥ TRON/TRC20 é’±åŒ…äº¤æ˜“
- âœ… **æ”¯ä»˜æ¥å£é›†æˆ** - æ”¯æŒ Safeperim ç­‰æ”¯ä»˜ç½‘å…³
- âœ… **ç»“ç®—ç®¡ç†** - ä¸€é”®ç»“ç®—å·²å®Œæˆäº¤æ˜“
- âœ… **æ•°æ®ç»Ÿè®¡** - å®æ—¶ç»Ÿè®¡ä»Šæ—¥æ”¶å…¥ã€ç´¯è®¡æ”¶å…¥ç­‰å…³é”®æŒ‡æ ‡
- âœ… **å®‰å…¨è®¤è¯** - JWT èº«ä»½éªŒè¯ï¼Œä¿æŠ¤ API å®‰å…¨

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ“Š ä»ªè¡¨ç›˜
- **å®æ—¶ç»Ÿè®¡å¡ç‰‡** - ä»Šæ—¥æ”¶å…¥ã€æ”¯ä»˜æ¥å£ç´¯è®¡ã€USDT é’±åŒ…ç´¯è®¡ã€æ€»ä½“ç´¯è®¡
- **ç”¨æˆ·å¾…ç»“æ¸…é‡‘é¢** - æ˜¾ç¤ºæ¯ä¸ªç”¨æˆ·çš„å¾…ç»“ç®—é‡‘é¢
- **äº¤æ˜“æµæ°´è¡¨** - æ”¯æŒç­›é€‰ã€æ’åºã€æ—¶é—´è¿‡æ»¤
- **ä¸€é”®åŒæ­¥** - ç»Ÿä¸€åŒæ­¥æ”¯ä»˜æ¥å£å’Œé’±åŒ…äº¤æ˜“

### ğŸ’° äº¤æ˜“ç®¡ç†
- **æ‰‹åŠ¨å½•å…¥** - å¿«é€Ÿæ·»åŠ äº¤æ˜“è®°å½•
- **é’±åŒ…ç›‘æ§** - è‡ªåŠ¨ç›‘æ§ TRON é’±åŒ…ï¼Œå®æ—¶åŒæ­¥ USDT äº¤æ˜“
- **æ”¯ä»˜æ¥å£åŒæ­¥** - é›†æˆ Safeperim ç­‰æ”¯ä»˜ç½‘å…³
- **æ‰‹ç»­è´¹è®¡ç®—** - æ”¯æŒç™¾åˆ†æ¯”æ‰‹ç»­è´¹ï¼ˆæ”¯ä»˜æ¥å£ï¼‰å’Œå›ºå®šé‡‘é¢æ‰‹ç»­è´¹ï¼ˆé’±åŒ…ï¼‰
- **å¤šå¸ç§æ”¯æŒ** - æ”¯æŒ CNY å’Œ USDTï¼Œè‡ªåŠ¨æ±‡ç‡è½¬æ¢

### ğŸ‘¥ ç”¨æˆ·åˆ†è´¦
- **çµæ´»é…ç½®** - è‡ªå®šä¹‰ç”¨æˆ·åˆ†è´¦æ¯”ä¾‹
- **è‡ªåŠ¨è®¡ç®—** - ç³»ç»Ÿè‡ªåŠ¨æŒ‰æ¯”ä¾‹åˆ†é…æ”¶å…¥
- **å®æ—¶æ›´æ–°** - ä¿®æ”¹åˆ†è´¦æ¯”ä¾‹åï¼Œæ‰€æœ‰äº¤æ˜“è‡ªåŠ¨é‡æ–°è®¡ç®—

### âš™ï¸ ç³»ç»Ÿç®¡ç†
- **API é…ç½®** - ç®¡ç†æ”¯ä»˜æ¥å£é…ç½®ï¼ˆSafeperim ç­‰ï¼‰
- **é’±åŒ…é…ç½®** - ç®¡ç†é’±åŒ…åœ°å€å’Œç›‘æ§è®¾ç½®
- **åˆ†è´¦æ—¥å¿—** - æŸ¥çœ‹å†å²åˆ†è´¦è°ƒæ•´è®°å½•
- **ç»“ç®—åŠŸèƒ½** - ä¸€é”®ç»“ç®—å·²å®Œæˆäº¤æ˜“

### ğŸ” å®‰å…¨è®¤è¯
- **JWT è®¤è¯** - åŸºäº JSON Web Token çš„èº«ä»½éªŒè¯
- **è·¯ç”±ä¿æŠ¤** - æ‰€æœ‰ API è·¯ç”±éƒ½éœ€è¦è®¤è¯
- **Token ç®¡ç†** - è‡ªåŠ¨åˆ·æ–°å’Œè¿‡æœŸå¤„ç†

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 19.2** - UI æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS** - æ ·å¼æ¡†æ¶ï¼ˆé€šè¿‡ CDNï¼‰
- **Lucide React** - å›¾æ ‡åº“

### åç«¯
- **Node.js** - è¿è¡Œç¯å¢ƒ
- **Express** - Web æ¡†æ¶
- **TypeScript** - ç±»å‹å®‰å…¨
- **JWT** - èº«ä»½éªŒè¯
- **bcryptjs** - å¯†ç åŠ å¯†

### æœåŠ¡é›†æˆ
- **TronGrid API** - TRON åŒºå—é“¾æ•°æ®æŸ¥è¯¢
- **Safeperim API** - æ”¯ä»˜ç½‘å…³é›†æˆ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
internal-ledger-pro/
â”œâ”€â”€ components/              # React ç»„ä»¶
â”‚   â”œâ”€â”€ AdminPanel.tsx      # åå°ç®¡ç†é¢æ¿
â”‚   â”œâ”€â”€ LoginPage.tsx       # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ ManualEntryForm.tsx # æ‰‹åŠ¨å½•å…¥è¡¨å•
â”‚   â”œâ”€â”€ StatsCards.tsx      # ç»Ÿè®¡å¡ç‰‡
â”‚   â”œâ”€â”€ TransactionTable.tsx # äº¤æ˜“è¡¨æ ¼
â”‚   â”œâ”€â”€ UserSplitSettings.tsx # ç”¨æˆ·åˆ†è´¦è®¾ç½®
â”‚   â””â”€â”€ ...
â”œâ”€â”€ server/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ routes/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ transactions.ts # äº¤æ˜“è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.ts        # ç”¨æˆ·è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ configs.ts      # é…ç½®è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ wallets.ts      # é’±åŒ…è·¯ç”±
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ walletMonitor.ts    # é’±åŒ…ç›‘æ§æœåŠ¡
â”‚   â”‚   â””â”€â”€ walletExplorer.ts   # åŒºå—é“¾æŸ¥è¯¢æœåŠ¡
â”‚   â”œâ”€â”€ adapters/           # é€‚é…å™¨
â”‚   â”‚   â””â”€â”€ safeperimAdapter.ts # Safeperim é€‚é…å™¨
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.ts         # JWT è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ store.ts        # å†…å­˜æ•°æ®å­˜å‚¨
â”‚   â”‚   â””â”€â”€ types.ts        # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚       â””â”€â”€ logger.ts       # æ—¥å¿—å·¥å…·
â”œâ”€â”€ utils/                  # å‰ç«¯å·¥å…·
â”‚   â””â”€â”€ auth.ts             # è®¤è¯å·¥å…·
â”œâ”€â”€ scripts/                # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ kill-port.ps1      # ç«¯å£æ¸…ç†è„šæœ¬
â”‚   â””â”€â”€ start-server.ps1    # æœåŠ¡å™¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ docs/                   # æ–‡æ¡£
â”‚   â””â”€â”€ AUTHENTICATION.md   # è®¤è¯æ–‡æ¡£
â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.tsx               # å…¥å£æ–‡ä»¶
â”œâ”€â”€ vite.config.ts          # Vite é…ç½®
â”œâ”€â”€ package.json            # é¡¹ç›®é…ç½®
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Node.js** >= 18.0.0
- **npm** >= 9.0.0
- **PowerShell** (Windows) æˆ– **Bash** (Linux/Mac)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†ä»“åº“**
   ```bash
   git clone https://github.com/your-username/internal-ledger-pro.git
   cd internal-ledger-pro
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**
   
   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š
   ```env
   # JWT å¯†é’¥ï¼ˆå¿…éœ€ï¼‰
   JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
   
   # TronGrid API é…ç½®ï¼ˆé’±åŒ…ç›‘æ§åŠŸèƒ½éœ€è¦ï¼‰
   TRON_API_BASE_URL=https://api.trongrid.io
   TRON_API_KEY=your-trongrid-api-key
   
   # Safeperim API é…ç½®ï¼ˆæ”¯ä»˜æ¥å£åŒæ­¥éœ€è¦ï¼‰
   SAFEPERIM_BASE_URL=https://api.example.com
   SAFEPERIM_MERCHANT_ID=your-merchant-id
   SAFEPERIM_MD5_KEY=your-md5-key
   
   # æ—¥å¿—çº§åˆ«ï¼ˆå¯é€‰ï¼Œé»˜è®¤: infoï¼‰
   LOG_LEVEL=debug
   NODE_ENV=development
   ```

4. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**

   **æ–¹å¼ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆæ¨èï¼‰**
   ```bash
   npm run dev:all
   ```
   
   **æ–¹å¼äºŒï¼šåˆ†åˆ«å¯åŠ¨**
   ```bash
   # ç»ˆç«¯ 1: å¯åŠ¨åç«¯ï¼ˆç«¯å£ 3001ï¼‰
   npm run server:dev
   
   # ç»ˆç«¯ 2: å¯åŠ¨å‰ç«¯ï¼ˆç«¯å£ 5173ï¼‰
   npm run dev
   ```

5. **è®¿é—®åº”ç”¨**
   
   - å‰ç«¯: http://localhost:5173
   - åç«¯ API: http://localhost:3001

### é»˜è®¤ç™»å½•å‡­æ®

âš ï¸ **é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼**

- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`

---

## âš™ï¸ ç¯å¢ƒé…ç½®

### å¿…éœ€é…ç½®

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `JWT_SECRET` | JWT å¯†é’¥ï¼Œç”¨äºç­¾åå’ŒéªŒè¯ Token | `your-super-secret-jwt-key` |

### å¯é€‰é…ç½®

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `TRON_API_BASE_URL` | TronGrid API åŸºç¡€ URL | `https://api.trongrid.io` |
| `TRON_API_KEY` | TronGrid API å¯†é’¥ | - |
| `SAFEPERIM_BASE_URL` | Safeperim API åŸºç¡€ URL | - |
| `SAFEPERIM_MERCHANT_ID` | Safeperim å•†æˆ· ID | - |
| `SAFEPERIM_MD5_KEY` | Safeperim MD5 å¯†é’¥ | - |
| `LOG_LEVEL` | æ—¥å¿—çº§åˆ« (`debug`, `info`, `warn`, `error`, `silent`) | `info` |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ (`development`, `production`) | `development` |

### ç”Ÿæˆ JWT Secret

```bash
# ä½¿ç”¨ OpenSSL
openssl rand -base64 32

# æˆ–ä½¿ç”¨ Node.js
node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
```

---

## ğŸ“š API æ–‡æ¡£

### è®¤è¯ API

#### POST `/api/auth/login`
ç”¨æˆ·ç™»å½•ï¼Œè·å– JWT Tokenã€‚

**è¯·æ±‚ä½“:**
```json
{
  "username": "admin",
  "password": "admin123"
}
```

**å“åº”:**
```json
{
  "success": true,
  "token": "yourstoken",
  "user": {
    "id": 1,
    "username": "admin"
  }
}
```

#### POST `/api/auth/verify`
éªŒè¯å½“å‰ Token æ˜¯å¦æœ‰æ•ˆã€‚

**è¯·æ±‚å¤´:**
```
Authorization: Bearer <token>
```

### äº¤æ˜“ API

#### GET `/api/transactions`
è·å–æ‰€æœ‰äº¤æ˜“è®°å½•ã€‚

**æŸ¥è¯¢å‚æ•°:**
- `source` - æ¥æºç­›é€‰ï¼ˆå¦‚: `USDT Wallet`, `Manual`, `Safeperim`ï¼‰
- `currency` - å¸ç§ç­›é€‰ï¼ˆ`CNY`, `USDT`ï¼‰
- `status` - çŠ¶æ€ç­›é€‰ï¼ˆ`Pending`, `Completed`, `Failed`ï¼‰

**ç¤ºä¾‹:**
```bash
GET /api/transactions?source=USDT%20Wallet&currency=USDT
```

#### POST `/api/transactions/manual`
æ‰‹åŠ¨åˆ›å»ºäº¤æ˜“è®°å½•ã€‚

**è¯·æ±‚ä½“:**
```json
{
  "amount": 1000,
  "currency": "CNY",
  "description": "æµ‹è¯•äº¤æ˜“",
  "source": "Manual"
}
```

### ç”¨æˆ·åˆ†è´¦ API

#### GET `/api/users`
è·å–æ‰€æœ‰ç”¨æˆ·åˆ†è´¦é…ç½®ã€‚

#### POST `/api/users`
æ›´æ–°ç”¨æˆ·åˆ†è´¦é…ç½®ã€‚

**è¯·æ±‚ä½“:**
```json
[
  {
    "id": "u1",
    "name": "Admin (Me)",
    "ratio": 0.60
  },
  {
    "id": "u2",
    "name": "Partner A",
    "ratio": 0.25
  },
  {
    "id": "u3",
    "name": "Partner B",
    "ratio": 0.15
  }
]
```

### é’±åŒ… API

#### GET `/api/wallet-configs`
è·å–æ‰€æœ‰é’±åŒ…é…ç½®ã€‚

#### POST `/api/wallets/:id/sync`
åŒæ­¥æŒ‡å®šé’±åŒ…çš„äº¤æ˜“ã€‚

**å“åº”:**
```json
{
  "ok": true,
  "added": 5,
  "transactions": [...]
}
```

### é…ç½® API

#### GET `/api/api-configs`
è·å–æ‰€æœ‰æ”¯ä»˜æ¥å£é…ç½®ã€‚

#### POST `/api/api-configs`
åˆ›å»ºæˆ–æ›´æ–°æ”¯ä»˜æ¥å£é…ç½®ã€‚

### ç»“ç®— API

#### POST `/api/settlements`
ç»“ç®—æ‰€æœ‰å·²å®Œæˆäº¤æ˜“ï¼ˆåˆ é™¤å·²å®Œæˆäº¤æ˜“å¹¶æ¸…ç©ºåˆ†è´¦æ—¥å¿—ï¼‰ã€‚

**å“åº”:**
```json
{
  "success": true,
  "deletedCount": 10,
  "totalAmountCNY": 50000,
  "totalAmountUSDT": 7000
}
```

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

### 1. ç™»å½•ç³»ç»Ÿ

è®¿é—® http://localhost:5173ï¼Œä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•ã€‚

### 2. é…ç½®ç”¨æˆ·åˆ†è´¦

1. è¿›å…¥ **"åˆ†è´¦ç”¨æˆ·ç®¡ç†"** åŒºåŸŸ
2. è®¾ç½®æ¯ä¸ªç”¨æˆ·çš„åˆ†è´¦æ¯”ä¾‹ï¼ˆæ€»å’Œåº”ä¸º 1.0ï¼‰
3. ç‚¹å‡» **"ä¿å­˜"** æŒ‰é’®

### 3. é…ç½®æ”¯ä»˜æ¥å£

1. ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„ **"åå°ç®¡ç†"**
2. åœ¨ **"æ”¯ä»˜æ¥å£é…ç½®"** ä¸­æ·»åŠ æˆ–ç¼–è¾‘æ¥å£
3. å¡«å†™æ¥å£ä¿¡æ¯ï¼ˆåç§°ã€Base URLã€å•†æˆ· IDã€MD5 Key ç­‰ï¼‰
4. è®¾ç½®æ‰‹ç»­è´¹ç™¾åˆ†æ¯”ï¼ˆé»˜è®¤ 6%ï¼‰
5. ç‚¹å‡» **"ä¿å­˜"**

### 4. é…ç½®é’±åŒ…ç›‘æ§

1. åœ¨ **"åå°ç®¡ç†"** é¡µé¢çš„ **"é’±åŒ…ç›‘æ§é…ç½®"** ä¸­æ·»åŠ é’±åŒ…
2. å¡«å†™é’±åŒ…åœ°å€ã€ç½‘ç»œç±»å‹ï¼ˆTRONï¼‰
3. è®¾ç½®æ‰‹ç»­è´¹é‡‘é¢ï¼ˆé»˜è®¤ 3 USDTï¼‰
4. ç‚¹å‡» **"ä¿å­˜"**

### 5. åŒæ­¥äº¤æ˜“

- **åŒæ­¥æ‰€æœ‰**: ç‚¹å‡»ä»ªè¡¨ç›˜é¡¶éƒ¨çš„ **"åŒæ­¥å…¨éƒ¨"** æŒ‰é’®
- **åŒæ­¥é’±åŒ…**: åœ¨é’±åŒ…ä¿¡æ¯å¡ç‰‡ä¸­ç‚¹å‡» **"ç«‹å³åŒæ­¥"**
- **åŒæ­¥æ”¯ä»˜æ¥å£**: åœ¨æ”¯ä»˜æ¥å£é…ç½®ä¸­ç‚¹å‡» **"åŒæ­¥"**

### 6. æ‰‹åŠ¨å½•å…¥äº¤æ˜“

1. åœ¨ **"æ‰‹åŠ¨å½•å…¥æ”¶å…¥"** è¡¨å•ä¸­å¡«å†™äº¤æ˜“ä¿¡æ¯
2. é€‰æ‹©å¸ç§ï¼ˆCNY æˆ– USDTï¼‰
3. ç³»ç»Ÿè‡ªåŠ¨æŒ‰å½“å‰åˆ†è´¦æ¯”ä¾‹åˆ†é…
4. ç‚¹å‡» **"æäº¤"**

### 7. ç»“ç®—äº¤æ˜“

1. ç¡®è®¤æ‰€æœ‰éœ€è¦ç»“ç®—çš„äº¤æ˜“çŠ¶æ€ä¸º **"å·²å®Œæˆ"**
2. ç‚¹å‡» **"ç»“æ¸…"** æŒ‰é’®
3. ç¡®è®¤ç»“ç®—ä¿¡æ¯
4. ç‚¹å‡» **"ç¡®è®¤ç»“ç®—"**

---

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®è„šæœ¬

```bash
# å¼€å‘æ¨¡å¼ï¼ˆå‰ç«¯ï¼‰
npm run dev

# å¼€å‘æ¨¡å¼ï¼ˆåç«¯ï¼Œè‡ªåŠ¨é‡å¯ï¼‰
npm run server:dev

# åŒæ—¶å¯åŠ¨å‰åç«¯
npm run dev:all

# ç”Ÿäº§æ„å»º
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview

# å®‰å…¨å¯åŠ¨æœåŠ¡å™¨ï¼ˆè‡ªåŠ¨æ¸…ç†ç«¯å£ï¼‰
npm run server:safe

# æ‰‹åŠ¨æ¸…ç†ç«¯å£ 3001
npm run kill-port
```

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ **TypeScript** è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª **ESLint** è§„åˆ™ï¼ˆå¦‚å·²é…ç½®ï¼‰
- ç»„ä»¶ä½¿ç”¨ **å‡½æ•°å¼ç»„ä»¶** + **Hooks**
- API è·¯ç”±ä½¿ç”¨ **Express Router**
- ä½¿ç”¨ **logger** å·¥å…·è®°å½•æ—¥å¿—ï¼Œé¿å…ç›´æ¥ä½¿ç”¨ `console.log`

### æ·»åŠ æ–°çš„æ”¯ä»˜æ¥å£é€‚é…å™¨

1. åœ¨ `server/adapters/` ç›®å½•åˆ›å»ºæ–°çš„é€‚é…å™¨æ–‡ä»¶
2. å®ç° `PaymentAdapter` æ¥å£
3. åœ¨ `server/routes/external.ts` ä¸­æ³¨å†Œé€‚é…å™¨
4. åœ¨ `components/AdminPanel.tsx` ä¸­æ·»åŠ é…ç½® UI

### æ·»åŠ æ–°çš„åŒºå—é“¾ç½‘ç»œæ”¯æŒ

1. åœ¨ `server/services/walletExplorer.ts` ä¸­æ·»åŠ ç½‘ç»œæ”¯æŒ
2. å®ç°å¯¹åº”ç½‘ç»œçš„ API è°ƒç”¨é€»è¾‘
3. æ›´æ–° `WalletConfig` ç±»å‹å®šä¹‰

### æ—¥å¿—é…ç½®

æ—¥å¿—çº§åˆ«é€šè¿‡ `LOG_LEVEL` ç¯å¢ƒå˜é‡æ§åˆ¶ï¼š

- `debug` - æ˜¾ç¤ºæ‰€æœ‰æ—¥å¿—ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
- `info` - æ˜¾ç¤ºä¿¡æ¯å’Œä»¥ä¸Šçº§åˆ«ï¼ˆé»˜è®¤ï¼‰
- `warn` - æ˜¾ç¤ºè­¦å‘Šå’Œé”™è¯¯
- `error` - ä»…æ˜¾ç¤ºé”™è¯¯
- `silent` - ä¸æ˜¾ç¤ºä»»ä½•æ—¥å¿—

---

## â“ å¸¸è§é—®é¢˜

### Q: ç«¯å£ 3001 å·²è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**A:** ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…ç†ç«¯å£ï¼š

```bash
# Windows PowerShell
npm run kill-port

# æˆ–ä½¿ç”¨å®‰å…¨å¯åŠ¨è„šæœ¬
npm run server:safe
```

### Q: é’±åŒ…åŒæ­¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. ç¡®è®¤ `.env` æ–‡ä»¶ä¸­é…ç½®äº† `TRON_API_KEY`
2. ç¡®è®¤é’±åŒ…åœ°å€æ ¼å¼æ­£ç¡®
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ TronGrid API çŠ¶æ€
4. æŸ¥çœ‹åç«¯æ—¥å¿—è¾“å‡º

### Q: æ”¯ä»˜æ¥å£åŒæ­¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

1. ç¡®è®¤ API é…ç½®ä¿¡æ¯æ­£ç¡®ï¼ˆBase URLã€å•†æˆ· IDã€MD5 Keyï¼‰
2. ç¡®è®¤æ¥å£å·²æ¿€æ´»ï¼ˆ`isActive: true`ï¼‰
3. æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œ API æœåŠ¡çŠ¶æ€
4. æŸ¥çœ‹åç«¯æ—¥å¿—è¾“å‡º

### Q: å¦‚ä½•ä¿®æ”¹é»˜è®¤ç”¨æˆ·å’Œå¯†ç ï¼Ÿ

**A:** 

1. **ä¿®æ”¹å¯†ç **: ä½¿ç”¨ bcrypt ç”Ÿæˆæ–°å¯†ç å“ˆå¸Œï¼š
   ```bash
   node -e "const bcrypt = require('bcryptjs'); console.log(bcrypt.hashSync('your-password', 10));"
   ```
2. ç¼–è¾‘ `server/routes/auth.ts`ï¼Œæ›´æ–° `users` æ•°ç»„ä¸­çš„ç”¨æˆ·åå’Œå¯†ç å“ˆå¸Œ

### Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

**A:** å› ä¸ºæˆ‘ä»¬ç›®å‰çš„æ¸…è´¦è¾ƒå¿«ï¼Œæ‰€ä»¥æ²¡æœ‰é•¿æœŸå­˜å‚¨æ•°æ®çš„éœ€æ±‚ï¼Œæ‰€ä»¥å½“å‰ç‰ˆæœ¬ä½¿ç”¨**å†…å­˜å­˜å‚¨**ï¼Œæ•°æ®åœ¨æœåŠ¡å™¨é‡å¯åä¼šä¸¢å¤±ã€‚ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š

- ä½¿ç”¨æ•°æ®åº“ï¼ˆMySQLã€PostgreSQLã€MongoDBï¼‰
- æˆ–ä½¿ç”¨æ–‡ä»¶æŒä¹…åŒ–ï¼ˆJSON æ–‡ä»¶ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### æäº¤ Issue

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š

- é—®é¢˜æè¿°
- å¤ç°æ­¥éª¤
- é¢„æœŸè¡Œä¸º
- å®é™…è¡Œä¸º
- ç¯å¢ƒä¿¡æ¯ï¼ˆNode.js ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰

### æäº¤ Pull Request

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

<div align="center">

**Made with â¤ï¸ by Internal Ledger Pro Team**

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼

</div>
